<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Faculty Portal | Question Retrieval</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body{font-family:sans-serif;background:#f4f6f9;margin:0;padding:0;display:flex;justify-content:center;align-items:center;height:100vh;}
    .card{background:#fff;padding:24px;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.1);width:400px;}
    h2{margin-bottom:16px;}
    label{display:block;margin-top:12px;font-weight:600;}
    input{width:100%;padding:10px;margin-top:6px;border:1px solid #ccc;border-radius:8px;}
    .btn{padding:10px 14px;border:none;border-radius:8px;background:#0d6efd;color:#fff;font-weight:600;cursor:pointer;margin-top:16px;}
    .toolbar{position:absolute;top:0;left:0;right:0;background:#fff;padding:12px 16px;display:flex;justify-content:space-between;align-items:center;box-shadow:0 2px 6px rgba(0,0,0,.08);}
    .btn-link{background:transparent;border:1px solid #ccc;color:#333;padding:8px 12px;border-radius:8px;text-decoration:none;margin-left:8px;}
  </style>
</head>
<body>
  <div class="toolbar">
    <strong>üë©‚Äçüè´ Faculty Portal</strong>
    <div>
      <a class="btn-link" href="index.html">‚Üî Switch to Student</a>
      <a class="btn-link" href="login.html">üîë Login</a>
    </div>
  </div>

  <div class="card">
    <h2>Upload Question Paper (PDF)</h2>
    <form id="uploadForm">
      <label>Course Code</label>
      <input type="text" name="course" placeholder="e.g., BCSE 204L" required>
      <label>Exam</label>
      <input type="text" name="exam" placeholder="e.g., CAT-1 / FAT" required>
      <label>Upload PDF</label>
      <input type="file" name="pdf" accept="application/pdf" required>
      <button class="btn" type="submit">Upload</button>
    </form>
    <p id="status"></p>
  </div>

  <script>
    const BACKEND_ORIGIN="http://127.0.0.1:8000";
    const form=document.getElementById("uploadForm"),statusEl=document.getElementById("status");
    form.addEventListener("submit",async e=>{
      e.preventDefault(); const data=new FormData(form);
      try{
        const res=await fetch(`${BACKEND_ORIGIN}/upload_question`,{method:"POST",body:data});
        const r=await res.json();
        if(!res.ok) throw new Error(r.detail||'Upload failed');
        statusEl.textContent=r.message||"Uploaded!";statusEl.style.color="green";form.reset();
      }catch(err){statusEl.textContent=err.message||"Upload failed";statusEl.style.color="red";}
    });
  </script>
</body>
</html>
